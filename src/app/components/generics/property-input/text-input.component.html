<div>
  <mat-form-field>
    <mat-label class="input-label">{{ name }}</mat-label>
    <label (click)="isLatexInput ? openLatexEditor() : null">
      <input
        *ngIf="!multiline"
        type="text"
        [(ngModel)]="inputValue"
        [pattern]="pattern"
        (ngModelChange)="inputChanged()"
        matInput
        (keydown.enter)="saveChanges()"
      />
      <textarea
        *ngIf="multiline"
        [(ngModel)]="inputValue"
        [pattern]="pattern"
        (ngModelChange)="inputChanged()"
        (click)="isLatexInput ? openLatexEditor() : null"
        [disabled]="isLatexInput"
        [matAutosizeMaxRows]="maxLines"
        [matAutosizeMinRows]="2"
        [matTextareaAutosize]="true"
        matInput
      ></textarea>
    </label>
    <button
      *ngIf="(!isLatexInput && (inputValue !== value)) || (isLatexInput && (packedLatexValue !== value))"
      mat-button
      matSuffix
      mat-icon-button
      aria-label="Clear"
      (click)="saveChanges()"
    >
      <mat-icon>save</mat-icon>
    </button>
    <button
      *ngIf="isLink"
      matTooltip="Open link in new tab"
      matTooltipPosition="above"
      mat-button
      matSuffix
      mat-icon-button
      aria-label="Clear"
      (click)="openLink()"
    >
      <mat-icon>open_in_browser</mat-icon>
    </button>
    <button
      *ngIf="multiline"
      matTooltip="Toggle LaTeX input"
      matTooltipPosition="above"
      mat-button
      matSuffix
      mat-icon-button
      aria-label="Clear"
      (click)="toggleLatexFlag()">
      <mat-icon *ngIf="isLatexInput">text_fields</mat-icon>
      <mat-icon *ngIf="!isLatexInput">text_format</mat-icon>
    </button>
  </mat-form-field>
</div>
<div>
  <pdf-viewer *ngIf="urlToRenderedPdfBlob" [src]="urlToRenderedPdfBlob" [render-text]="true" style="display: block"></pdf-viewer>
</div>
